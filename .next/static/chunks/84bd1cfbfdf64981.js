(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,9165,e=>{"use strict";let t="http://localhost:8000";function a(e){(401===e||403===e)&&(sessionStorage.removeItem("lotly_admin_access_token"),sessionStorage.removeItem("lotly_access_token"),window.location.pathname.startsWith("/login")||(window.location.href="/login"))}async function o(e){let o=await fetch(`${t}${e}`,{method:"GET",credentials:"include"});o.ok||a(o.status);let l=await o.text(),s=l?JSON.parse(l):null;if(!o.ok)throw Error(s&&"detail"in s&&s.detail||`Request failed (${o.status})`);return s}async function l(e,o){let l=await fetch(`${t}${e}`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(o)});l.ok||a(l.status);let s=await l.text(),i=s?JSON.parse(s):null;if(!l.ok)throw Error(i&&"detail"in i&&i.detail||`Request failed (${l.status})`);return i}async function s(e,o){let l=await fetch(`${t}${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(o)});l.ok||a(l.status);let s=await l.text(),i=s?JSON.parse(s):null;if(!l.ok)throw Error(i&&"detail"in i&&i.detail||`Request failed (${l.status})`);return i}e.s(["apiBaseUrl",0,t,"apiGet",()=>o,"apiPatch",()=>s,"apiPost",()=>l])},58595,e=>{e.v({actionButton:"section-module__zQf7-W__actionButton",actionRow:"section-module__zQf7-W__actionRow",adminList:"section-module__zQf7-W__adminList",adminRow:"section-module__zQf7-W__adminRow",header:"section-module__zQf7-W__header",inlineButton:"section-module__zQf7-W__inlineButton",modal:"section-module__zQf7-W__modal",modalActions:"section-module__zQf7-W__modalActions",modalBackdrop:"section-module__zQf7-W__modalBackdrop",modalDivider:"section-module__zQf7-W__modalDivider",modalForm:"section-module__zQf7-W__modalForm",modalGrid:"section-module__zQf7-W__modalGrid",modalHeader:"section-module__zQf7-W__modalHeader",modalInput:"section-module__zQf7-W__modalInput",modalLabel:"section-module__zQf7-W__modalLabel",modalPrimary:"section-module__zQf7-W__modalPrimary",modalSecondary:"section-module__zQf7-W__modalSecondary",modalSubtitle:"section-module__zQf7-W__modalSubtitle",modalTextarea:"section-module__zQf7-W__modalTextarea",page:"section-module__zQf7-W__page",panel:"section-module__zQf7-W__panel",panelBody:"section-module__zQf7-W__panelBody",panelGrid:"section-module__zQf7-W__panelGrid",panelTitle:"section-module__zQf7-W__panelTitle",passwordBox:"section-module__zQf7-W__passwordBox",resetButton:"section-module__zQf7-W__resetButton",subtitle:"section-module__zQf7-W__subtitle",title:"section-module__zQf7-W__title"})},49196,e=>{"use strict";var t=e.i(43476),a=e.i(71645),o=e.i(9165),l=e.i(58595);function s(){let[e,s]=(0,a.useState)([]),[i,n]=(0,a.useState)({}),[d,c]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=!0;return Promise.all([(0,o.apiGet)("/crud/lotly_admin"),(0,o.apiGet)("/crud/user")]).then(([t,a])=>{e&&(n(Object.fromEntries(new Map(a.map(e=>[e.id,e.email??""])).entries())),s(t))}).catch(t=>{e&&c(t instanceof Error?t.message:"Unable to load Lotly admins.")}),()=>{e=!1}},[]),(0,t.jsxs)("section",{className:l.default.page,children:[(0,t.jsxs)("header",{className:l.default.header,children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:l.default.title,children:"Users & Access"}),(0,t.jsx)("p",{className:l.default.subtitle,children:"Control admin credentials, roles, and critical access policies across every Lotly tenant."})]}),(0,t.jsxs)("div",{className:l.default.actionRow,children:[(0,t.jsx)("button",{className:l.default.actionButton,type:"button",children:"Invite admin"}),(0,t.jsx)("button",{className:l.default.actionButton,type:"button",children:"Reset password"}),(0,t.jsx)("button",{className:l.default.actionButton,type:"button",children:"Export access log"})]})]}),d&&(0,t.jsx)("p",{className:l.default.subtitle,children:d}),e.length>0&&(0,t.jsx)("div",{className:l.default.panelGrid,children:e.map(e=>(0,t.jsxs)("div",{className:l.default.panel,children:[(0,t.jsx)("p",{className:l.default.panelTitle,children:e.first_name||e.last_name?`${e.first_name??""} ${e.last_name??""}`.trim():"Lotly Admin"}),(0,t.jsx)("p",{className:l.default.panelBody,children:i[e.user_id]??"No email"}),(0,t.jsxs)("p",{className:l.default.panelBody,children:["Title: ",e.title??"—"]}),(0,t.jsxs)("p",{className:l.default.panelBody,children:["Status: ",e.status??"—"]})]},e.id))})]})}e.s(["default",()=>s])}]);