{"version":3,"sources":["../../../../src/app/accounts/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { apiGet, apiPatch, apiPost } from \"@/lib/api\";\nimport styles from \"../section.module.css\";\n\ntype TopHierarchy = {\n  id: number;\n  name?: string | null;\n  legal_name?: string | null;\n  tax_id?: string | null;\n  status?: string | null;\n  admin_list_id?: number | null;\n  employee_list_id?: number | null;\n  entity_list_id?: number | null;\n  resident_list_id?: number | null;\n  website_list_id?: number | null;\n};\n\ntype AdminList = { id: number; top_hierarchy_id: number };\ntype Admin = { id: number; admin_list_id: number; user_id: number };\ntype User = {\n  id: number;\n  email?: string | null;\n  first_name?: string | null;\n  last_name?: string | null;\n};\ntype EntityList = { id: number; top_hierarchy_id: number };\ntype Entity = { id: number; entity_list_id: number; total_sites?: number | null };\n\nconst PASSWORD_CHARS =\n  \"ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz23456789!@#$%\";\n\nconst basePanels = [\n  {\n    title: \"New account setup\",\n    body: \"Provision a new tenant, assign plan, and configure billing owner.\",\n  },\n  {\n    title: \"Account status\",\n    body: \"Activate or deactivate accounts based on payment status or policy.\",\n  },\n  {\n    title: \"Site inventory\",\n    body: \"Track total sites per account and enforce plan limits.\",\n  },\n];\n\nexport default function AccountsPage() {\n  const [panels, setPanels] = useState(basePanels);\n  const [topHierarchies, setTopHierarchies] = useState<TopHierarchy[]>([]);\n  const [adminCounts, setAdminCounts] = useState<Record<number, number>>({});\n  const [adminEmails, setAdminEmails] = useState<Record<number, string[]>>({});\n  const [adminUsers, setAdminUsers] = useState<Record<number, User[]>>({});\n  const [resetModal, setResetModal] = useState<{\n    accountId: number;\n    accountName: string;\n    admin: User;\n    step: \"verify\" | \"reason\" | \"done\";\n  } | null>(null);\n  const [resetPhrase, setResetPhrase] = useState(\"\");\n  const [resetReason, setResetReason] = useState(\"\");\n  const [addAdminModal, setAddAdminModal] = useState<{\n    account: TopHierarchy;\n  } | null>(null);\n  const [addAdminEmail, setAddAdminEmail] = useState(\"\");\n  const [addAdminStep, setAddAdminStep] = useState<\"form\" | \"done\">(\"form\");\n  const [addAdminPassword, setAddAdminPassword] = useState(\"\");\n  const [siteTotals, setSiteTotals] = useState<Record<number, number>>({});\n  const [isCreating, setIsCreating] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [createStep, setCreateStep] = useState<\"form\" | \"done\">(\"form\");\n  const [createPassword, setCreatePassword] = useState(\"\");\n  const [createForm, setCreateForm] = useState({\n    name: \"\",\n    legal_name: \"\",\n    tax_id: \"\",\n    billing_email: \"\",\n    status: \"active\",\n    admin_first_name: \"\",\n    admin_last_name: \"\",\n    admin_email: \"\",\n  });\n\n  const totals = useMemo(() => {\n    const totalAccounts = topHierarchies.length;\n    const activeAccounts = topHierarchies.filter(\n      (row) => (row.status ?? \"active\") === \"active\",\n    ).length;\n    const totalAdmins = Object.values(adminCounts).reduce((sum, value) => sum + value, 0);\n    return { totalAccounts, activeAccounts, totalAdmins };\n  }, [topHierarchies, adminCounts]);\n\n  useEffect(() => {\n    let isMounted = true;\n    Promise.all([\n      apiGet<TopHierarchy[]>(\"/crud/top_hierarchy\"),\n      apiGet<AdminList[]>(\"/crud/admin_list\"),\n      apiGet<Admin[]>(\"/crud/admin\"),\n      apiGet<User[]>(\"/crud/user\"),\n      apiGet<EntityList[]>(\"/crud/entity_list\"),\n      apiGet<Entity[]>(\"/crud/entities\"),\n    ])\n      .then(([hierarchies, adminLists, admins, users, entityLists, entities]) => {\n        if (!isMounted) return;\n        setTopHierarchies(hierarchies);\n\n        const listMap = new Map(adminLists.map((row) => [row.id, row.top_hierarchy_id]));\n        const userMap = new Map(users.map((row) => [row.id, row.email ?? \"\"]));\n        const entityListMap = new Map(\n          entityLists.map((row) => [row.id, row.top_hierarchy_id]),\n        );\n\n        const counts: Record<number, number> = {};\n        const emails: Record<number, string[]> = {};\n        const usersByAccount: Record<number, User[]> = {};\n        admins.forEach((admin) => {\n          const topId = listMap.get(admin.admin_list_id);\n          if (!topId) return;\n          counts[topId] = (counts[topId] ?? 0) + 1;\n          const email = userMap.get(admin.user_id);\n          if (email) {\n            emails[topId] = [...(emails[topId] ?? []), email];\n          }\n          const user = users.find((row) => row.id === admin.user_id);\n          if (user) {\n            usersByAccount[topId] = [...(usersByAccount[topId] ?? []), user];\n          }\n        });\n        setAdminCounts(counts);\n        setAdminEmails(emails);\n        setAdminUsers(usersByAccount);\n\n        const totals: Record<number, number> = {};\n        entities.forEach((entity) => {\n          const topId = entityListMap.get(entity.entity_list_id);\n          if (!topId) return;\n          const sites = Number(entity.total_sites ?? 0);\n          totals[topId] = (totals[topId] ?? 0) + (Number.isNaN(sites) ? 0 : sites);\n        });\n        setSiteTotals(totals);\n      })\n      .catch(() => {\n        // keep default panels\n      });\n    return () => {\n      isMounted = false;\n    };\n  }, []);\n\n  useEffect(() => {\n    setPanels((prev) =>\n      prev.map((panel) => {\n        if (panel.title === \"New account setup\") {\n          return {\n            ...panel,\n            body: `${totals.totalAccounts} total accounts in the portfolio.`,\n          };\n        }\n        if (panel.title === \"Account status\") {\n          return {\n            ...panel,\n            body: `${totals.activeAccounts} active accounts · ${\n              totals.totalAccounts - totals.activeAccounts\n            } inactive.`,\n          };\n        }\n        if (panel.title === \"Site inventory\") {\n          return {\n            ...panel,\n            body: `${totals.totalAdmins} admins assigned across accounts.`,\n          };\n        }\n        return panel;\n      }),\n    );\n  }, [totals]);\n\n  const generatePassword = (length = 12) => {\n    const values = new Uint32Array(length);\n    window.crypto.getRandomValues(values);\n    return Array.from(values, (value) => PASSWORD_CHARS[value % PASSWORD_CHARS.length]).join(\n      \"\",\n    );\n  };\n\n  const createAccount = async () => {\n    if (!createForm.name.trim()) {\n      setError(\"Account name is required.\");\n      return;\n    }\n    if (!createForm.admin_email.trim()) {\n      setError(\"Admin email is required.\");\n      return;\n    }\n    setIsCreating(true);\n    setError(null);\n    const now = new Date().toISOString();\n    const generatedPassword = generatePassword();\n    try {\n      const top = await apiPost<TopHierarchy>(\"/crud/top_hierarchy\", {\n        name: createForm.name.trim(),\n        legal_name: createForm.legal_name.trim() || null,\n        tax_id: createForm.tax_id.trim() || null,\n        billing_email: createForm.billing_email.trim() || null,\n        status: createForm.status || \"active\",\n        created_at: now,\n        updated_at: now,\n      });\n\n      const adminList = await apiPost<{ id: number }>(\"/crud/admin_list\", {\n        top_hierarchy_id: top.id,\n        created_at: now,\n        updated_at: now,\n      });\n      const employeeList = await apiPost<{ id: number }>(\"/crud/employee_list\", {\n        top_hierarchy_id: top.id,\n        created_at: now,\n        updated_at: now,\n      });\n      const entityList = await apiPost<{ id: number }>(\"/crud/entity_list\", {\n        top_hierarchy_id: top.id,\n        created_at: now,\n        updated_at: now,\n      });\n      const residentList = await apiPost<{ id: number }>(\"/crud/resident_list\", {\n        top_hierarchy_id: top.id,\n        created_at: now,\n        updated_at: now,\n      });\n      const websiteList = await apiPost<{ id: number }>(\"/crud/website_list\", {\n        top_hierarchy_id: top.id,\n        created_at: now,\n        updated_at: now,\n      });\n\n      await apiPatch<TopHierarchy>(`/crud/top_hierarchy/${top.id}`, {\n        admin_list_id: adminList.id,\n        employee_list_id: employeeList.id,\n        entity_list_id: entityList.id,\n        resident_list_id: residentList.id,\n        website_list_id: websiteList.id,\n        updated_at: now,\n      });\n\n      const adminEmail = createForm.admin_email.trim().toLowerCase();\n      const adminFirstName = createForm.admin_first_name.trim() || null;\n      const adminLastName = createForm.admin_last_name.trim() || null;\n\n      const adminUser = await apiPost<User>(\"/admin/users/create\", {\n        email: adminEmail,\n        password: generatedPassword,\n        admin_list_id: adminList.id,\n        first_name: adminFirstName,\n        last_name: adminLastName,\n        portal: \"employee\",\n      });\n\n      setTopHierarchies((prev) => [\n        {\n          ...top,\n          admin_list_id: adminList.id,\n          employee_list_id: employeeList.id,\n          entity_list_id: entityList.id,\n          resident_list_id: residentList.id,\n          website_list_id: websiteList.id,\n        },\n        ...prev,\n      ]);\n      setAdminCounts((prev) => ({\n        ...prev,\n        [top.id]: (prev[top.id] ?? 0) + 1,\n      }));\n      setAdminEmails((prev) => ({\n        ...prev,\n        [top.id]: [...(prev[top.id] ?? []), adminEmail],\n      }));\n      setAdminUsers((prev) => ({\n        ...prev,\n        [top.id]: [\n          ...(prev[top.id] ?? []),\n          {\n            id: adminUser.id,\n            email: adminEmail,\n            first_name: adminFirstName,\n            last_name: adminLastName,\n          },\n        ],\n      }));\n      setCreatePassword(generatedPassword);\n      setCreateStep(\"done\");\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Unable to create account.\");\n    } finally {\n      setIsCreating(false);\n    }\n  };\n\n  const suspendAccount = () => {\n    const target = window.prompt(\n      \"Enter the account ID or exact account name to suspend:\",\n    );\n    if (!target) return;\n\n    const normalized = target.trim().toLowerCase();\n    const match = topHierarchies.find((account) => {\n      if (String(account.id) === normalized) return true;\n      if (account.name && account.name.toLowerCase() === normalized) return true;\n      return false;\n    });\n\n    if (!match) {\n      setError(\"Account not found. Please use a valid ID or name.\");\n      return;\n    }\n\n    const confirmation = window.prompt(\n      `Type SUSPEND ${match.id} to confirm pausing this account.`,\n    );\n    if (confirmation !== `SUSPEND ${match.id}`) {\n      alert(\"Suspension cancelled.\");\n      return;\n    }\n\n    setError(null);\n    const now = new Date().toISOString();\n    apiPatch<TopHierarchy>(`/crud/top_hierarchy/${match.id}`, {\n      status: \"suspended\",\n      updated_at: now,\n    })\n      .then((updated) => {\n        setTopHierarchies((prev) =>\n          prev.map((account) =>\n            account.id === match.id ? { ...account, ...updated } : account,\n          ),\n        );\n      })\n      .catch((err) => {\n        setError(err instanceof Error ? err.message : \"Unable to suspend account.\");\n      });\n  };\n\n  const openResetModal = (account: TopHierarchy, admin: User) => {\n    setResetPhrase(\"\");\n    setResetReason(\"\");\n    setResetModal({\n      accountId: account.id,\n      accountName: account.name ?? `Account ${account.id}`,\n      admin,\n      step: \"verify\",\n    });\n  };\n\n  const closeResetModal = () => {\n    setResetModal(null);\n    setResetPhrase(\"\");\n    setResetReason(\"\");\n  };\n\n  const confirmResetStep = () => {\n    if (!resetModal) return;\n    if (resetModal.step === \"verify\") {\n      const expected = `RESET ${resetModal.admin.id}`;\n      if (resetPhrase.trim() !== expected) {\n        setError(\"Type the exact confirmation phrase to continue.\");\n        return;\n      }\n      setError(null);\n      setResetModal({ ...resetModal, step: \"reason\" });\n      return;\n    }\n    if (resetModal.step === \"reason\") {\n      if (!resetReason.trim()) {\n        setError(\"Please add a reason for the reset.\");\n        return;\n      }\n      setError(null);\n      setResetModal({ ...resetModal, step: \"done\" });\n    }\n  };\n\n  const finalizeReset = () => {\n    if (!resetModal) return;\n    closeResetModal();\n    alert(\n      `Password reset queued for ${resetModal.admin.email ?? \"admin user\"}.\\nReason: ${resetReason}`,\n    );\n  };\n\n  const openAddAdminModal = (account: TopHierarchy) => {\n    setError(null);\n    setAddAdminEmail(\"\");\n    setAddAdminPassword(\"\");\n    setAddAdminStep(\"form\");\n    setAddAdminModal({ account });\n  };\n\n  const closeAddAdminModal = () => {\n    setAddAdminModal(null);\n    setAddAdminEmail(\"\");\n    setAddAdminPassword(\"\");\n    setAddAdminStep(\"form\");\n  };\n\n  const submitAddAdmin = async () => {\n    if (!addAdminModal) return;\n    if (!addAdminEmail.trim()) {\n      setError(\"Admin email is required.\");\n      return;\n    }\n    const account = addAdminModal.account;\n    if (!account.admin_list_id) {\n      setError(\"This account does not have an admin list yet.\");\n      return;\n    }\n\n    setError(null);\n    const email = addAdminEmail.trim().toLowerCase();\n    const generatedPassword = generatePassword();\n    try {\n      const user = await apiPost<User>(\"/admin/users/create\", {\n        email,\n        password: generatedPassword,\n        admin_list_id: account.admin_list_id,\n        portal: \"employee\",\n      });\n\n      setAdminCounts((prev) => ({\n        ...prev,\n        [account.id]: (prev[account.id] ?? 0) + 1,\n      }));\n      setAdminEmails((prev) => ({\n        ...prev,\n        [account.id]: [...(prev[account.id] ?? []), email],\n      }));\n      setAdminUsers((prev) => ({\n        ...prev,\n        [account.id]: [...(prev[account.id] ?? []), user as User],\n      }));\n      setAddAdminPassword(generatedPassword);\n      setAddAdminStep(\"done\");\n    } catch (err) {\n      setError(err instanceof Error ? err.message : \"Unable to add admin.\");\n    }\n  };\n\n  return (\n    <section className={styles.page}>\n      <header className={styles.header}>\n        <div>\n          <h2 className={styles.title}>Account Control</h2>\n          <p className={styles.subtitle}>\n            Create new accounts, assign billing controls, and manage active\n            status across the Lotly network.\n          </p>\n        </div>\n        <div className={styles.actionRow}>\n          <button\n            className={styles.actionButton}\n            type=\"button\"\n            onClick={() => {\n              setError(null);\n              setCreateStep(\"form\");\n              setCreatePassword(\"\");\n              setShowCreateModal(true);\n            }}\n          >\n            Create account\n          </button>\n          <button className={styles.actionButton} type=\"button\" onClick={suspendAccount}>\n            Suspend account\n          </button>\n        </div>\n      </header>\n      {error && <p className={styles.subtitle}>{error}</p>}\n      {showCreateModal && (\n        <div className={styles.modalBackdrop} role=\"presentation\">\n          <div className={styles.modal} role=\"dialog\" aria-modal=\"true\">\n            <header className={styles.modalHeader}>\n              <h3>Create account</h3>\n              <p className={styles.modalSubtitle}>\n                Enter top hierarchy details for the new account.\n              </p>\n            </header>\n            {createStep === \"form\" ? (\n              <form\n                className={styles.modalForm}\n                onSubmit={(event) => {\n                  event.preventDefault();\n                  createAccount();\n                }}\n              >\n                <label className={styles.modalLabel}>\n                  Account name\n                  <input\n                    className={styles.modalInput}\n                    value={createForm.name}\n                    onChange={(event) =>\n                      setCreateForm((prev) => ({ ...prev, name: event.target.value }))\n                    }\n                    placeholder=\"Sunrise Communities\"\n                    required\n                  />\n                </label>\n                <div className={styles.modalGrid}>\n                  <label className={styles.modalLabel}>\n                    Legal name\n                    <input\n                      className={styles.modalInput}\n                      value={createForm.legal_name}\n                      onChange={(event) =>\n                        setCreateForm((prev) => ({\n                          ...prev,\n                          legal_name: event.target.value,\n                        }))\n                      }\n                      placeholder=\"Sunrise Holdings LLC\"\n                    />\n                  </label>\n                  <label className={styles.modalLabel}>\n                    Tax ID\n                    <input\n                      className={styles.modalInput}\n                      value={createForm.tax_id}\n                      onChange={(event) =>\n                        setCreateForm((prev) => ({\n                          ...prev,\n                          tax_id: event.target.value,\n                        }))\n                      }\n                      placeholder=\"12-3456789\"\n                    />\n                  </label>\n                </div>\n                <div className={styles.modalGrid}>\n                  <label className={styles.modalLabel}>\n                    Billing email\n                    <input\n                      className={styles.modalInput}\n                      type=\"email\"\n                      value={createForm.billing_email}\n                      onChange={(event) =>\n                        setCreateForm((prev) => ({\n                          ...prev,\n                          billing_email: event.target.value,\n                        }))\n                      }\n                      placeholder=\"billing@sunrise.com\"\n                    />\n                  </label>\n                  <label className={styles.modalLabel}>\n                    Status\n                    <select\n                      className={styles.modalInput}\n                      value={createForm.status}\n                      onChange={(event) =>\n                        setCreateForm((prev) => ({\n                          ...prev,\n                          status: event.target.value,\n                        }))\n                      }\n                    >\n                      <option value=\"active\">Active</option>\n                      <option value=\"inactive\">Inactive</option>\n                      <option value=\"pending\">Pending</option>\n                    </select>\n                  </label>\n                </div>\n                <div className={styles.modalDivider}>Admin contact</div>\n                <div className={styles.modalGrid}>\n                  <label className={styles.modalLabel}>\n                    Admin first name\n                    <input\n                      className={styles.modalInput}\n                      value={createForm.admin_first_name}\n                      onChange={(event) =>\n                        setCreateForm((prev) => ({\n                          ...prev,\n                          admin_first_name: event.target.value,\n                        }))\n                      }\n                      placeholder=\"Alex\"\n                    />\n                  </label>\n                  <label className={styles.modalLabel}>\n                    Admin last name\n                    <input\n                      className={styles.modalInput}\n                      value={createForm.admin_last_name}\n                      onChange={(event) =>\n                        setCreateForm((prev) => ({\n                          ...prev,\n                          admin_last_name: event.target.value,\n                        }))\n                      }\n                      placeholder=\"Morgan\"\n                    />\n                  </label>\n                </div>\n                <label className={styles.modalLabel}>\n                  Admin email\n                  <input\n                    className={styles.modalInput}\n                    type=\"email\"\n                    value={createForm.admin_email}\n                    onChange={(event) =>\n                      setCreateForm((prev) => ({\n                        ...prev,\n                        admin_email: event.target.value,\n                      }))\n                    }\n                    placeholder=\"admin@sunrise.com\"\n                    required\n                  />\n                </label>\n                <div className={styles.modalActions}>\n                  <button\n                    className={styles.modalSecondary}\n                    type=\"button\"\n                  onClick={() => {\n                    setShowCreateModal(false);\n                    setError(null);\n                    setCreateStep(\"form\");\n                    setCreatePassword(\"\");\n                  }}\n                >\n                  Cancel\n                </button>\n                  <button\n                    className={styles.modalPrimary}\n                    type=\"submit\"\n                    disabled={isCreating}\n                  >\n                    {isCreating ? \"Creating...\" : \"Create account\"}\n                  </button>\n                </div>\n              </form>\n            ) : (\n              <>\n                <div className={styles.modalForm}>\n                  <p className={styles.panelBody}>\n                    Account created. Save the admin credentials below.\n                  </p>\n                  <p className={styles.panelBody}>\n                    Admin email: {createForm.admin_email.trim()}\n                  </p>\n                  <div className={styles.passwordBox}>{createPassword}</div>\n                </div>\n                <div className={styles.modalActions}>\n                  <button\n                    className={styles.modalPrimary}\n                    type=\"button\"\n                    onClick={() => {\n                      setShowCreateModal(false);\n                      setCreateStep(\"form\");\n                      setCreatePassword(\"\");\n                      setCreateForm({\n                        name: \"\",\n                        legal_name: \"\",\n                        tax_id: \"\",\n                        billing_email: \"\",\n                        status: \"active\",\n                        admin_first_name: \"\",\n                        admin_last_name: \"\",\n                        admin_email: \"\",\n                      });\n                    }}\n                  >\n                    Done\n                  </button>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      )}\n      <div className={styles.panelGrid}>\n        {panels.map((panel) => (\n          <div key={panel.title} className={styles.panel}>\n            <p className={styles.panelTitle}>{panel.title}</p>\n            <p className={styles.panelBody}>{panel.body}</p>\n          </div>\n        ))}\n      </div>\n      {topHierarchies.length > 0 && (\n        <div className={styles.panelGrid}>\n          {topHierarchies.map((account) => (\n            <div key={account.id} className={styles.panel}>\n              <p className={styles.panelTitle}>{account.name ?? `Account ${account.id}`}</p>\n              <p className={styles.panelBody}>\n                Legal name: {account.legal_name ?? \"—\"}\n              </p>\n              <p className={styles.panelBody}>Tax ID: {account.tax_id ?? \"—\"}</p>\n              <p className={styles.panelBody}>\n                Site inventory: {siteTotals[account.id] ?? 0}\n              </p>\n              <p className={styles.panelBody}>\n                Admins: {adminCounts[account.id] ?? 0}\n              </p>\n              <button\n                className={styles.inlineButton}\n                type=\"button\"\n                onClick={() => openAddAdminModal(account)}\n              >\n                Add admin\n              </button>\n              {adminUsers[account.id]?.length ? (\n                <div className={styles.adminList}>\n                  {adminUsers[account.id].map((admin) => (\n                    <div key={admin.id} className={styles.adminRow}>\n                      <span className={styles.panelBody}>\n                        {admin.email ?? `Admin ${admin.id}`}\n                      </span>\n                      <button\n                        className={styles.resetButton}\n                        type=\"button\"\n                        onClick={() => openResetModal(account, admin)}\n                      >\n                        Reset password\n                      </button>\n                    </div>\n                  ))}\n                </div>\n              ) : (\n                <p className={styles.panelBody}>No admins assigned.</p>\n              )}\n            </div>\n          ))}\n        </div>\n      )}\n      {resetModal && (\n        <div className={styles.modalBackdrop} role=\"presentation\">\n          <div className={styles.modal} role=\"dialog\" aria-modal=\"true\">\n            <header className={styles.modalHeader}>\n              <h3>Reset admin password</h3>\n              <p className={styles.modalSubtitle}>\n                Account: {resetModal.accountName}\n              </p>\n            </header>\n            <div className={styles.modalForm}>\n              {resetModal.step === \"verify\" && (\n                <>\n                  <p className={styles.panelBody}>\n                    Admin: {resetModal.admin.email ?? `Admin ${resetModal.admin.id}`}\n                  </p>\n                  <label className={styles.modalLabel}>\n                    Type <strong>RESET {resetModal.admin.id}</strong> to continue.\n                    <input\n                      className={styles.modalInput}\n                      value={resetPhrase}\n                      onChange={(event) => setResetPhrase(event.target.value)}\n                      placeholder={`RESET ${resetModal.admin.id}`}\n                    />\n                  </label>\n                </>\n              )}\n              {resetModal.step === \"reason\" && (\n                <label className={styles.modalLabel}>\n                  Reason for reset\n                  <textarea\n                    className={`${styles.modalInput} ${styles.modalTextarea}`}\n                    value={resetReason}\n                    onChange={(event) => setResetReason(event.target.value)}\n                    placeholder=\"User requested reset after failed login attempts.\"\n                    rows={3}\n                  />\n                </label>\n              )}\n              {resetModal.step === \"done\" && (\n                <p className={styles.panelBody}>\n                  Confirmation complete. This reset will be queued with the reason\n                  provided.\n                </p>\n              )}\n            </div>\n            <div className={styles.modalActions}>\n              <button className={styles.modalSecondary} type=\"button\" onClick={closeResetModal}>\n                Cancel\n              </button>\n              {resetModal.step !== \"done\" ? (\n                <button className={styles.modalPrimary} type=\"button\" onClick={confirmResetStep}>\n                  Continue\n                </button>\n              ) : (\n                <button className={styles.modalPrimary} type=\"button\" onClick={finalizeReset}>\n                  Queue reset\n                </button>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n      {addAdminModal && (\n        <div className={styles.modalBackdrop} role=\"presentation\">\n          <div className={styles.modal} role=\"dialog\" aria-modal=\"true\">\n            <header className={styles.modalHeader}>\n              <h3>Add admin</h3>\n              <p className={styles.modalSubtitle}>\n                Account: {addAdminModal.account.name ?? `Account ${addAdminModal.account.id}`}\n              </p>\n            </header>\n            {addAdminStep === \"form\" ? (\n              <>\n                <div className={styles.modalForm}>\n                  <label className={styles.modalLabel}>\n                    Admin email\n                    <input\n                      className={styles.modalInput}\n                      type=\"email\"\n                      value={addAdminEmail}\n                      onChange={(event) => setAddAdminEmail(event.target.value)}\n                      placeholder=\"admin@account.com\"\n                    />\n                  </label>\n                </div>\n                <div className={styles.modalActions}>\n                  <button\n                    className={styles.modalSecondary}\n                    type=\"button\"\n                    onClick={closeAddAdminModal}\n                  >\n                    Cancel\n                  </button>\n                  <button className={styles.modalPrimary} type=\"button\" onClick={submitAddAdmin}>\n                    Add admin\n                  </button>\n                </div>\n              </>\n            ) : (\n              <>\n                <div className={styles.modalForm}>\n                  <p className={styles.panelBody}>\n                    Admin added. Save the temporary password below.\n                  </p>\n                  <p className={styles.panelBody}>Admin email: {addAdminEmail.trim()}</p>\n                  <div className={styles.passwordBox}>{addAdminPassword}</div>\n                </div>\n                <div className={styles.modalActions}>\n                  <button className={styles.modalPrimary} type=\"button\" onClick={closeAddAdminModal}>\n                    Done\n                  </button>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      )}\n    </section>\n  );\n}\n"],"names":[],"mappings":"wDAEA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OA0BA,IAAM,EACJ,iEAEI,EAAa,CACjB,CACE,MAAO,oBACP,KAAM,mEACR,EACA,CACE,MAAO,iBACP,KAAM,oEACR,EACA,CACE,MAAO,iBACP,KAAM,wDACR,EACD,CAEc,SAAS,IACtB,GAAM,CAAC,EAAQ,EAAU,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,GAC/B,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAiB,EAAE,EACjE,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAyB,CAAC,GAClE,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAA2B,CAAC,GACpE,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAyB,CAAC,GAChE,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAKlC,MACJ,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzC,CAAC,EAAa,EAAe,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACzC,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAExC,MACJ,CAAC,EAAe,EAAiB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC7C,CAAC,EAAc,EAAgB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkB,QAC5D,CAAC,EAAkB,EAAoB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACnD,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAyB,CAAC,GAChE,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,GAAC,GACvC,CAAC,EAAO,EAAS,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAgB,MAC5C,CAAC,EAAiB,EAAmB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IACjD,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAkB,QACxD,CAAC,EAAgB,EAAkB,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,IAC/C,CAAC,EAAY,EAAc,CAAG,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAC,CAC3C,KAAM,GACN,WAAY,GACZ,OAAQ,GACR,cAAe,GACf,OAAQ,SACR,iBAAkB,GAClB,gBAAiB,GACjB,YAAa,EACf,GAEM,EAAS,CAAA,EAAA,EAAA,OAAO,AAAP,EAAQ,KACrB,IAAM,EAAgB,EAAe,MAAM,CAK3C,MAAO,eAAE,EAAe,eAJD,EAAe,MAAM,CAC1C,AAAC,GAAQ,CAAC,EAAI,MAAM,EAAI,QAAA,CAAQ,GAAM,UACtC,MAAM,CAEgC,YADpB,OAAO,MAAM,CAAC,GAAa,MAAM,CAAC,CAAC,EAAK,IAAU,EAAM,EAAO,EAC/B,CACtD,EAAG,CAAC,EAAgB,EAAY,EAEhC,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACR,IAAI,GAAY,EAmDhB,OAlDA,QAAQ,GAAG,CAAC,CACV,CAAA,EAAA,EAAA,MAAM,AAAN,EAAuB,uBACvB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAc,oBACpB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAU,eAChB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAS,cACf,CAAA,EAAA,EAAA,MAAA,AAAM,EAAe,qBACrB,CAAA,EAAA,EAAA,MAAA,AAAM,EAAW,kBAClB,EACE,IAAI,CAAC,CAAC,CAAC,EAAa,EAAY,EAAQ,EAAO,EAAa,EAAS,IACpE,GAAI,CAAC,EAAW,OAChB,EAAkB,GAElB,IAAM,EAAU,IAAI,IAAI,EAAW,GAAG,CAAC,AAAC,GAAQ,CAAC,EAAI,EAAE,CAAE,EAAI,gBAAgB,CAAC,GACxE,EAAU,IAAI,IAAI,EAAM,GAAG,CAAE,AAAD,GAAS,CAAC,EAAI,EAAE,CAAE,EAAI,KAAK,EAAI,GAAG,GAC9D,EAAgB,IAAI,IACxB,EAAY,GAAG,CAAC,AAAC,GAAQ,CAAC,EAAI,EAAE,CAAE,EAAI,gBAAgB,CAAC,GAGnD,EAAiC,CAAC,EAClC,EAAmC,CAAC,EACpC,EAAyC,CAAC,EAChD,EAAO,OAAO,CAAC,AAAC,IACd,IAAM,EAAQ,EAAQ,GAAG,CAAC,EAAM,aAAa,EAC7C,GAAI,CAAC,EAAO,OACZ,CAAM,CAAC,EAAM,CAAG,AAAC,EAAM,CAAC,EAAM,EAAI,CAAC,EAAI,EACvC,IAAM,EAAQ,EAAQ,GAAG,CAAC,EAAM,OAAO,EACnC,IACF,CAAM,CAAC,CADE,CACI,CAAG,IAAK,CAAM,CAAC,EAAM,EAAI,EAAE,CAAG,EAAM,EAEnD,IAAM,EAAO,EAAM,IAAI,CAAC,AAAC,GAAQ,EAAI,EAAE,GAAK,EAAM,OAAO,EACrD,IACF,CAAc,CADN,AACO,EAAM,CAAG,IAAK,CAAc,CAAC,EAAM,EAAI,EAAE,CAAG,EAAK,CAEpE,GACA,EAAe,GACf,EAAe,GACf,EAAc,GAEd,IAAM,EAAiC,CAAC,EACxC,EAAS,OAAO,CAAC,AAAC,IAChB,IAAM,EAAQ,EAAc,GAAG,CAAC,EAAO,cAAc,EACrD,GAAI,CAAC,EAAO,OACZ,IAAM,EAAQ,OAAO,EAAO,WAAW,EAAI,GAC3C,CAAM,CAAC,EAAM,CAAG,CAAC,CAAM,CAAC,EAAM,GAAI,CAAC,EAAK,EAAD,KAAQ,KAAK,CAAC,GAAS,EAAI,CAAA,CACpE,AADyE,GAEzE,EAAc,EAChB,GACC,KAAK,CAAC,KAEP,GACK,KACL,GAAY,CACd,CACF,EAAG,EAAE,EAEL,CAAA,EAAA,EAAA,SAAS,AAAT,EAAU,KACR,EAAW,AAAD,GACR,EAAK,GAAG,CAAC,AAAC,GACR,AAAoB,qBAAqB,CAArC,EAAM,KAAK,CACN,CACL,GAAG,CAAK,CACR,KAAM,CAAA,EAAG,EAAO,aAAa,CAAC,iCAAiC,CAAC,AAClE,EAEkB,kBAAkB,CAAlC,EAAM,KAAK,CACN,CACL,GAAG,CAAK,CACR,KAAM,CAAA,EAAG,EAAO,cAAc,CAAC,sBAAmB,EAChD,EAAO,aAAa,CAAG,EAAO,cAAc,CAC7C,UAAU,CAAC,AACd,EAEkB,kBAAkB,CAAlC,EAAM,KAAK,CACN,CACL,GAAG,CAAK,CACR,KAAM,CAAA,EAAG,EAAO,WAAW,CAAC,iCAAiC,CAC/D,AADgE,EAG3D,GAGb,EAAG,CAAC,EAAO,EAEX,IAAM,EAAmB,CAAC,EAAS,EAAE,IACnC,IAAM,EAAS,IAAI,YAAY,GAE/B,OADA,OAAO,MAAM,CAAC,eAAe,CAAC,GACvB,MAAM,IAAI,CAAC,EAAQ,AAAC,GAAU,CAAc,CAAC,EAAQ,EAAe,MAAM,CAAC,EAAE,IAAI,CACtF,GAEJ,EAEM,EAAgB,UACpB,GAAI,CAAC,EAAW,IAAI,CAAC,IAAI,GAAI,YAC3B,EAAS,6BAGX,GAAI,CAAC,EAAW,WAAW,CAAC,IAAI,GAAI,YAClC,EAAS,4BAGX,GAAc,GACd,EAAS,MACT,IAAM,EAAM,IAAI,OAAO,WAAW,GAC5B,EAAoB,IAC1B,GAAI,CACF,IAAM,EAAM,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAe,sBAAuB,CAC7D,KAAM,EAAW,IAAI,CAAC,IAAI,GAC1B,WAAY,EAAW,UAAU,CAAC,IAAI,IAAM,KAC5C,OAAQ,EAAW,MAAM,CAAC,IAAI,IAAM,KACpC,cAAe,EAAW,aAAa,CAAC,IAAI,IAAM,KAClD,OAAQ,EAAW,MAAM,EAAI,SAC7B,WAAY,EACZ,WAAY,CACd,GAEM,EAAY,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAiB,mBAAoB,CAClE,iBAAkB,EAAI,EAAE,CACxB,WAAY,EACZ,WAAY,CACd,GACM,EAAe,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAiB,sBAAuB,CACxE,iBAAkB,EAAI,EAAE,CACxB,WAAY,EACZ,WAAY,CACd,GACM,EAAa,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAiB,oBAAqB,CACpE,iBAAkB,EAAI,EAAE,CACxB,WAAY,EACZ,WAAY,CACd,GACM,EAAe,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAiB,sBAAuB,CACxE,iBAAkB,EAAI,EAAE,CACxB,WAAY,EACZ,WAAY,CACd,GACM,EAAc,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAiB,qBAAsB,CACtE,iBAAkB,EAAI,EAAE,CACxB,WAAY,EACZ,WAAY,CACd,EAEA,OAAM,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAe,CAAC,oBAAoB,EAAE,EAAI,EAAE,CAAA,CAAE,CAAE,CAC5D,cAAe,EAAU,EAAE,CAC3B,iBAAkB,EAAa,EAAE,CACjC,eAAgB,EAAW,EAAE,CAC7B,iBAAkB,EAAa,EAAE,CACjC,gBAAiB,EAAY,EAAE,CAC/B,WAAY,CACd,GAEA,IAAM,EAAa,EAAW,WAAW,CAAC,IAAI,GAAG,WAAW,GACtD,EAAiB,EAAW,gBAAgB,CAAC,IAAI,IAAM,KACvD,EAAgB,EAAW,eAAe,CAAC,IAAI,IAAM,KAErD,EAAY,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAO,sBAAuB,CAC3D,MAAO,EACP,SAAU,EACV,cAAe,EAAU,EAAE,CAC3B,WAAY,EACZ,UAAW,EACX,OAAQ,UACV,GAEA,EAAmB,AAAD,GAAU,CAC1B,CACE,GAAG,CAAG,CACN,cAAe,EAAU,EAAE,CAC3B,iBAAkB,EAAa,EAAE,CACjC,eAAgB,EAAW,EAAE,CAC7B,iBAAkB,EAAa,EAAE,CACjC,gBAAiB,EAAY,EAAE,AACjC,KACG,EACJ,EACD,EAAe,AAAC,IAAU,CACxB,EADuB,CACpB,CAAI,CACP,CAAC,EAAI,EAAE,CAAC,CAAE,CAAC,CAAI,CAAC,EAAI,EAAE,CAAC,GAAI,CAAC,CAAI,EAClC,CAAC,EACD,EAAe,AAAC,IAAU,CACxB,EADuB,CACpB,CAAI,CACP,CAAC,EAAI,EAAE,CAAC,CAAE,IAAK,CAAI,CAAC,EAAI,EAAE,CAAC,EAAI,EAAE,CAAG,EAAW,CACjD,CAAC,EACD,EAAc,AAAC,IAAU,CACvB,EADsB,CACnB,CAAI,CACP,CAAC,EAAI,EAAE,CAAC,CAAE,IACJ,CAAI,CAAC,EAAI,EAAE,CAAC,EAAI,EAAE,CACtB,CACE,GAAI,EAAU,EAAE,CAChB,MAAO,EACP,WAAY,EACZ,UAAW,CACb,EACD,CACH,CAAC,EACD,EAAkB,GAClB,EAAc,OAChB,CAAE,MAAO,EAAK,CACZ,EAAS,aAAe,MAAQ,EAAI,OAAO,CAAG,4BAChD,QAAU,CACR,GAAc,EAChB,CACF,EAyDM,EAAkB,KACtB,EAAc,MACd,EAAe,IACf,EAAe,GACjB,EAwCM,EAAqB,KACzB,EAAiB,MACjB,EAAiB,IACjB,EAAoB,IACpB,EAAgB,OAClB,EAEM,EAAiB,UACrB,GAAI,CAAC,EAAe,OACpB,GAAI,CAAC,EAAc,IAAI,GAAI,YACzB,EAAS,4BAGX,IAAM,EAAU,EAAc,OAAO,CACrC,GAAI,CAAC,EAAQ,aAAa,CAAE,YAC1B,EAAS,iDAIX,EAAS,MACT,IAAM,EAAQ,EAAc,IAAI,GAAG,WAAW,GACxC,EAAoB,IAC1B,GAAI,CACF,IAAM,EAAO,MAAM,CAAA,EAAA,EAAA,OAAA,AAAO,EAAO,sBAAuB,OACtD,EACA,SAAU,EACV,cAAe,EAAQ,aAAa,CACpC,OAAQ,UACV,GAEA,EAAe,AAAC,IAAU,CACxB,EADuB,CACpB,CAAI,CACP,CAAC,EAAQ,EAAE,CAAC,CAAE,CAAC,CAAI,CAAC,EAAQ,EAAE,CAAC,GAAI,CAAC,CAAI,EAC1C,CAAC,EACD,EAAe,AAAC,IAAU,CACxB,EADuB,CACpB,CAAI,CACP,CAAC,EAAQ,EAAE,CAAC,CAAE,IAAK,CAAI,CAAC,EAAQ,EAAE,CAAC,EAAI,EAAE,CAAG,EAAM,CACpD,CAAC,EACD,EAAc,AAAC,IAAU,CACvB,EADsB,CACnB,CAAI,CACP,CAAC,EAAQ,EAAE,CAAC,CAAE,IAAK,CAAI,CAAC,EAAQ,EAAE,CAAC,EAAI,EAAE,CAAG,EAAa,AAC3D,CAAC,GACD,EAAoB,GACpB,EAAgB,OAClB,CAAE,MAAO,EAAK,CACZ,EAAS,aAAe,MAAQ,EAAI,OAAO,CAAG,uBAChD,CACF,EAEA,MACE,CAAA,EAAA,EAAA,IAAA,EAAC,UAAA,CAAQ,UAAW,EAAA,OAAM,CAAC,IAAI,WAC7B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,UAAW,EAAA,OAAM,CAAC,MAAM,WAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,WACC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAW,EAAA,OAAM,CAAC,KAAK,UAAE,oBAC7B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,QAAQ,UAAE,wGAKjC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,SAAS,WAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAW,EAAA,OAAM,CAAC,YAAY,CAC9B,KAAK,SACL,QAAS,KACP,EAAS,MACT,EAAc,QACd,EAAkB,IAClB,GAAmB,EACrB,WACD,mBAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAW,EAAA,OAAM,CAAC,YAAY,CAAE,KAAK,SAAS,QA3KvC,CA2KgD,IA1KrE,IAAM,EAAS,OAAO,MAAM,CAC1B,0DAEF,GAAI,CAAC,EAAQ,OAEb,IAAM,EAAa,EAAO,IAAI,GAAG,WAAW,GACtC,EAAQ,EAAe,IAAI,CAAC,AAAC,GAC7B,OAAO,EAAQ,EAAE,IAAM,KACvB,EAAQ,IAAI,CADuB,CACnB,EAAQ,IAAI,AADc,CACb,WAAW,KAAO,GAIrD,GAAI,CAAC,EAAO,GAJqD,OAAO,EAKtE,EAAS,qDAOX,GAAI,AAHiB,OAAO,MAAM,CAChC,CAAC,aAAa,EAAE,EAAM,EAAE,CAAC,iCAAiC,CAAC,IAExC,CAAC,QAAQ,EAAE,EAAM,EAAE,CAAA,CAAE,CAAE,YAC1C,MAAM,yBAIR,EAAS,MACT,IAAM,EAAM,IAAI,OAAO,WAAW,GAClC,CAAA,EAAA,EAAA,QAAA,AAAQ,EAAe,CAAC,oBAAoB,EAAE,EAAM,EAAE,CAAA,CAAE,CAAE,CACxD,OAAQ,YACR,WAAY,CACd,GACG,IAAI,CAAC,AAAC,IACL,EAAkB,AAAC,GACjB,EAAK,GAAG,CAAC,AAAC,GACR,EAAQ,EAAE,GAAK,EAAM,EAAE,CAAG,CAAE,GAAG,CAAO,CAAE,GAAG,CAAO,AAAC,EAAI,GAG7D,GACC,KAAK,CAAC,AAAC,IACN,EAAS,aAAe,MAAQ,EAAI,OAAO,CAAG,6BAChD,EACJ,WAiIuF,0BAKlF,GAAS,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,QAAQ,UAAG,IACzC,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,aAAa,CAAE,KAAK,wBACzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,KAAK,CAAE,KAAK,SAAS,aAAW,iBACrD,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,UAAW,EAAA,OAAM,CAAC,WAAW,WACnC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,mBACJ,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,aAAa,UAAE,wDAItB,SAAf,EACC,CAAA,EAAA,EAAA,IAAA,EAAC,OAAA,CACC,UAAW,EAAA,OAAM,CAAC,SAAS,CAC3B,SAAU,AAAC,IACT,EAAM,cAAc,GACpB,GACF,YAEA,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAW,EAAA,OAAM,CAAC,UAAU,WAAE,eAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,UAAW,EAAA,OAAM,CAAC,UAAU,CAC5B,MAAO,EAAW,IAAI,CACtB,SAAW,AAAD,GACR,EAAc,AAAC,GAAU,EAAE,EAAH,CAAM,CAAI,CAAE,KAAM,EAAM,MAAM,CAAC,KAAK,CAAC,CAAC,EAEhE,YAAY,sBACZ,QAAQ,CAAA,CAAA,OAGZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,SAAS,WAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAW,EAAA,OAAM,CAAC,UAAU,WAAE,aAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,UAAW,EAAA,OAAM,CAAC,UAAU,CAC5B,MAAO,EAAW,UAAU,CAC5B,SAAU,AAAC,GACT,EAAc,AAAC,IAAU,CACvB,EADsB,CACnB,CAAI,CACP,WAAY,EAAM,MAAM,CAAC,KAAK,CAChC,CAAC,EAEH,YAAY,4BAGhB,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAW,EAAA,OAAM,CAAC,UAAU,WAAE,SAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,UAAW,EAAA,OAAM,CAAC,UAAU,CAC5B,MAAO,EAAW,MAAM,CACxB,SAAW,AAAD,GACR,EAAc,AAAC,IAAU,CACvB,EADsB,CACnB,CAAI,CACP,OAAQ,EAAM,MAAM,CAAC,KAAK,CAC5B,CAAC,EAEH,YAAY,qBAIlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,SAAS,WAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAW,EAAA,OAAM,CAAC,UAAU,WAAE,gBAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,UAAW,EAAA,OAAM,CAAC,UAAU,CAC5B,KAAK,QACL,MAAO,EAAW,aAAa,CAC/B,SAAU,AAAC,GACT,EAAc,AAAC,IAAU,CACvB,EADsB,CACnB,CAAI,CACP,cAAe,EAAM,MAAM,CAAC,KAAK,CACnC,CAAC,EAEH,YAAY,2BAGhB,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAW,EAAA,OAAM,CAAC,UAAU,WAAE,SAEnC,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CACC,UAAW,EAAA,OAAM,CAAC,UAAU,CAC5B,MAAO,EAAW,MAAM,CACxB,SAAU,AAAC,GACT,EAAe,AAAD,IAAW,CACvB,EADsB,CACnB,CAAI,CACP,OAAQ,EAAM,MAAM,CAAC,KAAK,CAC5B,CAAC,YAGH,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,kBAAS,WACvB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,oBAAW,aACzB,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,MAAM,mBAAU,qBAI9B,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,YAAY,UAAE,kBACrC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,SAAS,WAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAW,EAAA,OAAM,CAAC,UAAU,WAAE,mBAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,UAAW,EAAA,OAAM,CAAC,UAAU,CAC5B,MAAO,EAAW,gBAAgB,CAClC,SAAU,AAAC,GACT,EAAc,AAAC,IAAU,CACvB,EADsB,CACnB,CAAI,CACP,iBAAkB,EAAM,MAAM,CAAC,KAAK,CACtC,CAAC,EAEH,YAAY,YAGhB,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAW,EAAA,OAAM,CAAC,UAAU,WAAE,kBAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,UAAW,EAAA,OAAM,CAAC,UAAU,CAC5B,MAAO,EAAW,eAAe,CACjC,SAAU,AAAC,GACT,EAAc,AAAC,IAAU,CACvB,EADsB,CACnB,CAAI,CACP,gBAAiB,EAAM,MAAM,CAAC,KAAK,AACrC,CAAC,GAEH,YAAY,iBAIlB,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAW,EAAA,OAAM,CAAC,UAAU,WAAE,cAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,UAAW,EAAA,OAAM,CAAC,UAAU,CAC5B,KAAK,QACL,MAAO,EAAW,WAAW,CAC7B,SAAU,AAAC,GACT,EAAc,AAAC,IAAU,CACvB,EADsB,CACnB,CAAI,CACP,YAAa,EAAM,MAAM,CAAC,KAAK,CACjC,CAAC,EAEH,YAAY,oBACZ,QAAQ,CAAA,CAAA,OAGZ,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,YAAY,WACjC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAW,EAAA,OAAM,CAAC,cAAc,CAChC,KAAK,SACP,QAAS,KACP,GAAmB,GACnB,EAAS,MACT,EAAc,QACd,EAAkB,GACpB,WACD,WAGC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAW,EAAA,OAAM,CAAC,YAAY,CAC9B,KAAK,SACL,SAAU,WAET,EAAa,cAAgB,yBAKpC,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,SAAS,WAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,SAAS,UAAE,uDAGhC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,SAAS,WAAE,gBAChB,EAAW,WAAW,CAAC,IAAI,MAE3C,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,WAAW,UAAG,OAEvC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,YAAY,UACjC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAW,EAAA,OAAM,CAAC,YAAY,CAC9B,KAAK,SACL,QAAS,KACP,GAAmB,GACnB,EAAc,QACd,EAAkB,IAClB,EAAc,CACZ,KAAM,GACN,WAAY,GACZ,OAAQ,GACR,cAAe,GACf,OAAQ,SACR,iBAAkB,GAClB,gBAAiB,GACjB,YAAa,EACf,EACF,WACD,mBASb,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,SAAS,UAC7B,EAAO,GAAG,CAAC,AAAC,GACX,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAsB,UAAW,EAAA,OAAM,CAAC,KAAK,WAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,UAAU,UAAG,EAAM,KAAK,GAC7C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,SAAS,UAAG,EAAM,IAAI,KAFnC,EAAM,KAAK,KAMxB,EAAe,MAAM,CAAG,GACvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,SAAS,UAC7B,EAAe,GAAG,CAAC,AAAC,GACnB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAqB,UAAW,EAAA,OAAM,CAAC,KAAK,WAC3C,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,UAAU,UAAG,EAAQ,IAAI,EAAI,CAAC,QAAQ,EAAE,EAAQ,EAAE,CAAA,CAAE,GACzE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,SAAS,WAAE,eACjB,EAAQ,UAAU,EAAI,OAErC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,SAAS,WAAE,WAAS,EAAQ,MAAM,EAAI,OAC3D,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,SAAS,WAAE,mBACb,CAAU,CAAC,EAAQ,EAAE,CAAC,EAAI,KAE7C,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,SAAS,WAAE,WACrB,CAAW,CAAC,EAAQ,EAAE,CAAC,EAAI,KAEtC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAW,EAAA,OAAM,CAAC,YAAY,CAC9B,KAAK,SACL,QAAS,IAAM,CAxT3B,EAAS,MACT,EAAiB,IACjB,EAAoB,IACpB,EAAgB,QAChB,EAAiB,CAAE,QAoT0B,CApTlB,aAqThB,cAGA,CAAU,CAAC,EAAQ,EAAE,CAAC,EAAE,OACvB,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,SAAS,UAC7B,CAAU,CAAC,EAAQ,EAAE,CAAC,CAAC,GAAG,CAAC,AAAC,GAC3B,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAmB,UAAW,EAAA,OAAM,CAAC,QAAQ,WAC5C,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAW,EAAA,OAAM,CAAC,SAAS,UAC9B,EAAM,KAAK,EAAI,CAAC,MAAM,EAAE,EAAM,EAAE,CAAA,CAAE,GAErC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAW,EAAA,OAAM,CAAC,WAAW,CAC7B,KAAK,SACL,QAAS,IAAM,CArXnC,EAAe,IACf,EAAe,IACf,EAAc,CACZ,UAAW,EAAQ,EAAE,CACrB,YAiXgD,AAjXnC,EAAQ,IAAI,EAAI,CAAC,QAAQ,EAAE,EAAQ,EAAE,CAAA,CAAE,CACpD,MAgXyD,EA/WzD,KAAM,QACR,aA+WmB,qBARO,EAAM,EAAE,KAetB,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,SAAS,UAAE,0BArC1B,EAAQ,EAAE,KA2CzB,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,aAAa,CAAE,KAAK,wBACzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,KAAK,CAAE,KAAK,SAAS,aAAW,iBACrD,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,UAAW,EAAA,OAAM,CAAC,WAAW,WACnC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,yBACJ,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,aAAa,WAAE,YACxB,EAAW,WAAW,OAGpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,SAAS,WACT,WAApB,EAAW,IAAI,EACd,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,SAAS,WAAE,UACtB,EAAW,KAAK,CAAC,KAAK,EAAI,CAAC,MAAM,EAAE,EAAW,KAAK,CAAC,EAAE,CAAA,CAAE,IAElE,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAW,EAAA,OAAM,CAAC,UAAU,WAAE,QAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,WAAO,SAAO,EAAW,KAAK,CAAC,EAAE,IAAU,gBACjD,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,UAAW,EAAA,OAAM,CAAC,UAAU,CAC5B,MAAO,EACP,SAAU,AAAC,GAAU,EAAe,EAAM,MAAM,CAAC,KAAK,EACtD,YAAa,CAAC,MAAM,EAAE,EAAW,KAAK,CAAC,EAAE,CAAA,CAAE,SAK9B,WAApB,EAAW,IAAI,EACd,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAW,EAAA,OAAM,CAAC,UAAU,WAAE,mBAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,WAAA,CACC,UAAW,CAAA,EAAG,EAAA,OAAM,CAAC,UAAU,CAAC,CAAC,EAAE,EAAA,OAAM,CAAC,aAAa,CAAA,CAAE,CACzD,MAAO,EACP,SAAU,AAAC,GAAU,EAAe,EAAM,MAAM,CAAC,KAAK,EACtD,YAAY,oDACZ,KAAM,OAIS,SAApB,EAAW,IAAI,EACd,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,SAAS,UAAE,kFAMpC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,YAAY,WACjC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAW,EAAA,OAAM,CAAC,cAAc,CAAE,KAAK,SAAS,QAAS,WAAiB,WAG7D,SAApB,EAAW,IAAI,CACd,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAW,EAAA,OAAM,CAAC,YAAY,CAAE,KAAK,SAAS,QAra3C,CAqaoD,IApa3E,GAAK,CAAD,EACJ,GAAwB,MADP,KACb,EAAW,IAAI,CAAe,CAChC,IAAM,EAAW,CAAC,MAAM,EAAE,EAAW,KAAK,CAAC,EAAE,CAAA,CAAE,QAC3C,AAAJ,EAAgB,IAAI,KAAO,OACzB,EAAS,CAD0B,mDAIrC,EAAS,WACT,EAAc,CAAE,GAAG,CAAU,CAAE,KAAM,QAAS,GAEhD,CACA,GAAwB,WAApB,EAAW,IAAI,CAAe,CAChC,GAAI,CAAC,EAAY,IAAI,GAAI,YACvB,EAAS,sCAGX,EAAS,MACT,EAAc,CAAE,GAAG,CAAU,CAAE,KAAM,MAAO,EAC9C,EACF,WAiZ+F,aAIjF,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAW,EAAA,OAAM,CAAC,YAAY,CAAE,KAAK,SAAS,QAnZ9C,CAmZuD,IAlZtE,IACL,IACA,IAFiB,EAGf,CAAC,0BAA0B,EAAE,EAAW,KAAK,CAAC,KAAK,EAAI,aAAa;AAAA,QAAW,EAAE,EAAA,CAAa,EAElG,WA6Y4F,wBAQvF,GACC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,aAAa,CAAE,KAAK,wBACzC,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,KAAK,CAAE,KAAK,SAAS,aAAW,iBACrD,CAAA,EAAA,EAAA,IAAA,EAAC,SAAA,CAAO,UAAW,EAAA,OAAM,CAAC,WAAW,WACnC,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,UAAG,cACJ,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,aAAa,WAAE,YACxB,EAAc,OAAO,CAAC,IAAI,EAAI,CAAC,QAAQ,EAAE,EAAc,OAAO,CAAC,EAAE,CAAA,CAAE,OAGhF,AAAiB,WAChB,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,SAAS,UAC9B,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAW,EAAA,OAAM,CAAC,UAAU,WAAE,cAEnC,CAAA,EAAA,EAAA,GAAA,EAAC,QAAA,CACC,UAAW,EAAA,OAAM,CAAC,UAAU,CAC5B,KAAK,QACL,MAAO,EACP,SAAU,AAAC,GAAU,EAAiB,EAAM,MAAM,CAAC,KAAK,EACxD,YAAY,2BAIlB,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,YAAY,WACjC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CACC,UAAW,EAAA,OAAM,CAAC,cAAc,CAChC,KAAK,SACL,QAAS,WACV,WAGD,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAW,EAAA,OAAM,CAAC,YAAY,CAAE,KAAK,SAAS,QAAS,WAAgB,oBAMnF,CAAA,EAAA,EAAA,IAAA,EAAA,EAAA,QAAA,CAAA,WACE,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,SAAS,WAC9B,CAAA,EAAA,EAAA,GAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,SAAS,UAAE,oDAGhC,CAAA,EAAA,EAAA,IAAA,EAAC,IAAA,CAAE,UAAW,EAAA,OAAM,CAAC,SAAS,WAAE,gBAAc,EAAc,IAAI,MAChE,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,WAAW,UAAG,OAEvC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAW,EAAA,OAAM,CAAC,YAAY,UACjC,CAAA,EAAA,EAAA,GAAA,EAAC,SAAA,CAAO,UAAW,EAAA,OAAM,CAAC,YAAY,CAAE,KAAK,SAAS,QAAS,WAAoB,qBAWrG"}